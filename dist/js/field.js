!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=function(e,t,n,i,r,o){var a,s=e=e||{},d=typeof e.default;"object"!==d&&"function"!==d||(a=e,s=e.default);var l,c="function"==typeof s?s.options:s;if(t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId=r),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=l):i&&(l=i),l){var u=c.functional,f=u?c.render:c.beforeCreate;u?(c._injectStyles=l,c.render=function(e,t){return l.call(t),f(e,t)}):c.beforeCreate=f?[].concat(f,l):[l]}return{esModule:a,exports:s,options:c}}},function(e,t,n){n(2),e.exports=n(14)},function(e,t,n){Nova.booting(function(e,t,i){e.component("index-quick-edit",n(3))})},function(e,t,n){var i=n(0)(n(4),n(13),!1,null,null,null);e.exports=i.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=n.n(i);t.default={props:["resourceName","field"],data:function(){return{quickEditModalOpen:!1}},methods:{showQuickEditModal:function(){this.quickEditModalOpen=!0},closeQuickEditModal:function(){this.quickEditModalOpen=!1}},components:{QuickEditModal:r.a}}},function(e,t,n){var i=n(0)(n(11),n(12),!1,function(e){n(6)},"data-v-528d9b34",null);e.exports=i.exports},function(e,t,n){var i=n(7);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n(9)("f1372b16",i,!0,{})},function(e,t,n){(e.exports=n(8)(!1)).push([e.i,"",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[n].concat(o).concat([r]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r=n(10),o={},a=i&&(document.head||document.getElementsByTagName("head")[0]),s=null,d=0,l=!1,c=function(){},u=null,f="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e){for(var t=0;t<e.length;t++){var n=e[t],i=o[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(m(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(m(n.parts[r]));o[n.id]={id:n.id,refs:1,parts:a}}}}function v(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function m(e){var t,n,i=document.querySelector("style["+f+'~="'+e.id+'"]');if(i){if(l)return c;i.parentNode.removeChild(i)}if(p){var r=d++;i=s||(s=v()),t=y.bind(null,i,r,!1),n=y.bind(null,i,r,!0)}else i=v(),t=function(e,t){var n=t.css,i=t.media,r=t.sourceMap;i&&e.setAttribute("media",i);u.ssrId&&e.setAttribute(f,t.id);r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}e.exports=function(e,t,n,i){l=n,u=i||{};var a=r(e,t);return h(a),function(t){for(var n=[],i=0;i<a.length;i++){var s=a[i];(d=o[s.id]).refs--,n.push(d)}t?h(a=r(e,t)):a=[];for(i=0;i<n.length;i++){var d;if(0===(d=n[i]).refs){for(var l=0;l<d.parts.length;l++)d.parts[l]();delete o[d.id]}}}};var g,b=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function y(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=b(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e,t){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],a=o[0],s={id:e+":"+r,css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"QuickEditModal",props:["field","resourceName"],data:function(){return{draftId:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}),guideline:this.field.guideline,subKeywords:this.field.subKeywords,withFiles:!0}},methods:{update:function(){var e=this;Nova.request().post("/quick-edit/update/"+this.resourceName,{id:this.field.id,guideline:this.guideline,subKeywords:this.subKeywords}).then(function(t){e.$toasted.show("Successfully updated!",{type:"success"})}).catch(function(t){422===t.response.status&&e.$toasted.show(t.response.data.message,{type:"error"})})},handleClose:function(){this.$emit("close"),this.cleanUp()},initialize:function(){this.$refs.theEditor.editor.insertHTML(this.guideline),this.disabled&&this.$refs.theEditor.setAttribute("contenteditable",!1)},handleChange:function(){this.guideline=this.$refs.theEditor.value},handleFileAccept:function(e){this.withFiles||e.preventDefault()},handleFileAdd:function(e){var t=e.attachment;t.file&&this.uploadAttachment(t)},handleFileRemove:function(e){var t=e.attachment.attachment;Nova.request().delete("/nova-api/articles/trix-attachment/guideline",{params:{attachmentUrl:t.attributes.values.url}}).then(function(e){}).catch(function(e){})},cleanUp:function(){this.withFiles&&Nova.request().delete("/nova-api/articles/trix-attachment/guideline/"+this.draftId).then(function(e){return console.log(e)}).catch(function(e){})},uploadAttachment:function(e){var t=new FormData;t.append("Content-Type",e.file.type),t.append("attachment",e.file),t.append("draftId",this.draftId),Nova.request().post("/nova-api/articles/trix-attachment/guideline",t,{onUploadProgress:function(t){e.setUploadProgress(Math.round(100*t.loaded/t.total))}}).then(function(t){var n=t.data.url;return e.setAttributes({url:n,href:n})})}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modal",{attrs:{tabindex:"-1",role:"dialog",classWhitelist:["flatpickr-current-month","flatpickr-next-month","flatpickr-prev-month","flatpickr-weekday","flatpickr-weekdays","flatpickr-calendar"]},on:{"modal-close":e.handleClose}},[n("form",{staticClass:"bg-white rounded-lg shadow-lg overflow-hidden w-action-fields",attrs:{autocomplete:"off"}},[n("h2",{staticClass:"border-b border-40 py-8 px-8 text-90 font-normal text-xl"},[e._v("\n            Quick Edit\n        ")]),e._v(" "),n("div",{staticClass:"action"},[n("div",{staticClass:"flex border-b border-40"},[n("div",{staticClass:"w-1/5 px-8 py-6"},[n("label",{staticClass:"inline-block text-80 pt-2 leading-tight",attrs:{for:"guideline"}},[e._v("\n                        Guideline "),n("span",{staticClass:"text-danger text-sm"},[e._v("*")])])]),e._v(" "),n("div",{staticClass:"py-6 px-8 w-4/5"},[n("trix-editor",{ref:"theEditor",staticClass:"trix-content",attrs:{id:"guideline",value:e.guideline,placeholder:"Guideline"},on:{keydown:function(e){e.stopPropagation()},"trix-initialize":e.initialize,"trix-attachment-add":e.handleFileAdd,"trix-attachment-remove":e.handleFileRemove,"trix-file-accept":e.handleFileAccept,"trix-change":e.handleChange}})],1)]),e._v(" "),n("div",{staticClass:"flex border-b border-40"},[n("div",{staticClass:"w-1/5 px-8 py-6"},[n("label",{staticClass:"inline-block text-80 pt-2 leading-tight",attrs:{for:"sub-keywords"}},[e._v("\n                        Sub Keywords\n                    ")])]),e._v(" "),n("div",{staticClass:"py-6 px-8 w-4/5"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.subKeywords,expression:"subKeywords"}],staticClass:"w-full form-control form-input form-input-bordered py-3 h-auto",attrs:{id:"sub-keywords",rows:"5",placeholder:"Sub Keywords",spellcheck:"false"},domProps:{value:e.subKeywords},on:{input:function(t){t.target.composing||(e.subKeywords=t.target.value)}}})])])]),e._v(" "),n("div",{staticClass:"bg-30 px-6 py-3 flex"},[n("div",{staticClass:"flex items-center ml-auto"},[n("button",{staticClass:"bg-primary hover:bg-primary-dark text-white font-bold py-2 px-4 rounded-full ml-1",on:{click:function(t){return t.preventDefault(),e.update(t)}}},[e._v("\n                    Update\n                ")])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("span",{staticClass:"inline-flex cursor-pointer text-70 hover:text-primary mr-3",on:{click:this.showQuickEditModal}},[t("icon",{attrs:{type:"edit"}})],1),this._v(" "),this.quickEditModalOpen?t("quick-edit-modal",{attrs:{field:this.field,resourceName:this.resourceName},on:{close:this.closeQuickEditModal}}):this._e()],1)},staticRenderFns:[]}},function(e,t){}]);